<!DOCTYPE html>
<html lang="">
    <head>

        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
        <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
        

    </head>

    <body>
        <style>
            .overlay {
                position: fixed;
                left: 0vw;
                bottom: 2vh;
                width: 100vw;
                height: 200px;
                opacity: 1;
                z-index: 10000;
            }
            .overlay-card {
                position: inline-block;
                float: left;
                width: 32vw;
                height: 200px;
                margin-left: 1vw;
                background-color: lightblue;
            }
        </style>

        <div class="overlay">

            <div class="overlay-card demo-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                    <h5 id = "title1">Site A</h5>
                </div>
                <div  class="mdl-card__supporting-text">
                    <p id = "sum1">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    Mauris sagittis pellentesque lacus eleifend lacinia...</p>
                    <div id = "Links1">
                </div>
                </div>
            </div>

            <div class="overlay-card demo-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                    <h5>Site B</h5>
                </div>
                <div class="mdl-card__supporting-text">
                    <p id = "sum2">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    Mauris sagittis pellentesque lacus eleifend lacinia...</p>
                    <div id = "Links1">
                </div>
                </div>
            </div>

            <div class="overlay-card demo-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                    <h5>Mayank's browser history</h5>
                </div>
                <div class="mdl-card__supporting-text">
                    <p id = "sum3">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    Mauris sagittis pellentesque lacus eleifend lacinia...</p>
                    <div id = "Links1">
                </div>
                </div>
            </div>


        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        

        <!-- <script type="text/javascript" src="./processJSON.js"></script> -->
        <script> 
            var URL_Concept = "http://localhost:8080/api/summary/https%3A%2F%2Farstechnica.com%2Fscience%2F2017%2F07%2Fa-brief-history-of-quantum-alternatives%2F" ;
            $.ajax({
                    type: 'GET',
                    url: URL_Concept,
                    dataType: 'json',
                    success: processJSON,
                    error: function(e)
                    {
                        console.log(e + "sdfsdf")
                    }    
        });

        function processJSON(Json){
  
     var num = 1;
  	 var Sentences = JSON.parse(Json);
  	 var Links = Sentences.links;
  	 console.log(Links[0].name + " " + Links[0].url + " " + Links[0].displayUrl + " " + Links[0].description);
  
  	var summary = Sentences.sentences.split("[BREAK]");
  	var title = Sentences.title;
  
    document.getElementById("sum" + num).innerHTML = summary;
    document.getElementById("title" + num).innerHTML = title;
    for(i = 0; i< Links.length; i++){
      var link = document.createElement("p");
      var href = document.createElement("a");
      var description = document.createElement("p");
      var extra = document.createElement("h4");

      var linkText = document.createTextNode(Links[i].displayUrl);
      var descriptionText = document.createTextNode(Links[i].description);
      var extraText = document.createTextNode(Links[i].name);

      link.appendChild(linkText);
      href.href = Links[i].url
      href.appendChild(link);
      description.appendChild(descriptionText);
      extra.appendChild(extraText);

      var div = document.createElement("div");
      div.appendChild(href);
      div.appendChild(description);
      div.appendChild(extraText);

      var element = document.getElementById("Links" + num);
      element.appendChild(div);

      if(num == 3){
        num = 1
      }else{
        num++;
      }

    }
        }
        </script>
    </body>
</html>
